@model ProgettoIUM.Web.Features.Home.HomeViewModel

@{
    ViewData["Title"] = "Home Page";
}

@section Styles {
    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
}

<div class="container text-center mt-5">
    <div class="mb-5">
        <h1 class="fw-bold display-5 mb-3" style="color: #1a2a3a;">La tua sicurezza è la nostra priorità</h1>
        <p class="lead text-muted">Segnala illeciti in modo anonimo e protetto.</p>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-4 m-3 p-5 card-nuova">
            <h2 class="fw-bold h4 mb-4">Nuova Segnalazione</h2>

            <div class="icon-box">
                <i class="fa-regular fa-file-lines"></i>
            </div>

            <p class="text-secondary mb-4">
                Invia una segnalazione da esaminare. <br />
                Ti forniremo un <strong>codice univoco</strong> per seguire il caso. <br />
                Conservalo con cura!
            </p>

            <div class="spacer-bottom">
                <a asp-controller="Compilazione" asp-action="NuovaSegnalazione" class="btn-seckure btn-custom-blue">
                    INVIA SEGNALAZIONE
                </a>
            </div>
        </div>

        <div class="col-md-4 m-3 p-5 card-consulta">
            <h2 class="fw-bold h4 mb-4">Consulta Esistente</h2>

            <div class="icon-box">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>

            <p class="text-secondary mb-4">
                Usa il codice univoco della segnalazione per consultare lo stato o comunicare con un operatore.
            </p>

            @if (TempData["Error"] != null)
            {
                <div class="alert alert-danger py-2 small mb-3 border-0 shadow-sm" style="border-radius: 10px;">
                    <i class="fa-solid fa-triangle-exclamation me-2"></i> @TempData["Error"]
                </div>
            }

            <form asp-controller="Home"
                  asp-action="DettaglioUtente"
                  method="get"
                  autocomplete="off"
                  class="spacer-bottom">

                <input name="codiceUnivoco"
                       class="form-control text-center mb-3 @(TempData.Peek("Error") != null ? "is-invalid" : "")"
                       placeholder="Inserisci codice"
                       required />

                <button type="submit"
                        class="btn-seckure btn-custom-grey">
                    ACCEDI
                </button>
            </form>
        </div>
    </div>
</div>